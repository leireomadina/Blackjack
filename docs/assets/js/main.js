const myModule=(()=>{"use strict";const e=document.querySelector(".js-new-button"),t=document.querySelector(".js-ask-button"),n=document.querySelector(".js-stop-button"),s=document.querySelector(".js-instructions-btn"),r=document.querySelector(".js-modal-btn"),o=document.querySelectorAll(".js-players-points"),l=document.querySelectorAll(".cards-container"),c=document.querySelector(".instructions__container"),d=document.querySelector(".modal");document.querySelector(".modal__image"),document.querySelector(".modal__title");let a=[],i=[],u=[];const m=["C","D","H","S"],b=["J","Q","K","A"],h=()=>{c.classList.contains("collapsed")?s.innerHTML="➜  Show instructions":s.innerHTML="➜  Hide instructions"},p=()=>{((e=2)=>{u=[];for(let t=0;t<e;t++)u.push(0)})(),a=L(),o.forEach(e=>e.innerText="0 points"),l.forEach(e=>e.innerHTML=""),q()},L=()=>{a=[];for(let e of m){for(let t=2;t<=10;t++)a.push(t+e);for(let t of b)a.push(t+e)}return i=(e=>{let t=e.length;for(;t>0;){let n=Math.floor(Math.random()*t);t--;let s=e[t];e[t]=e[n],e[n]=s}return e})(a),i},g=(e,t)=>{const n=document.createElement("img");n.src=`./assets/images/cards/${e}.png`,n.classList.add("card"),l[t].append(n)},y=()=>{c.classList.add("collapsed"),h(),0===i.length&&alert("There are no more cards on the deck :(");return i.pop()},S=(e,t)=>(u[t]=u[t]+(e=>{const t=e.substring(0,e.length-1);let n=0;return n=isNaN(t)?"A"===t?11:10:parseInt(t),n})(e),o[t].innerText=u[t]+" points",u[t]),f=()=>{t.disabled=!0,n.disabled=!0,t.classList.add("btn-disabled"),n.classList.add("btn-disabled")},q=()=>{t.disabled=!1,n.disabled=!1,t.classList.remove("btn-disabled"),n.classList.remove("btn-disabled")},k=e=>{let t=0;do{const n=y();if(t=S(n,u.length-1),g(n,u.length-1),e>21)break}while(t<e&&e<=21);w()},w=()=>{const[e,t]=u;setTimeout(()=>{t===e?alert("No one wins :("):e>21?alert("Bender wins"):t>21?alert("You win!"):alert("Bender wins")},200),f()};return t.addEventListener("click",()=>{const e=y(),t=S(e,0);g(e,0),(t>21||21===t)&&(f(),k(t))}),n.addEventListener("click",()=>{f(),k(u[0])}),e.addEventListener("click",p),s.addEventListener("click",()=>{c.classList.toggle("collapsed"),h()}),r.addEventListener("click",()=>{d.classList.toggle("hidden"),p()}),{newGame:p}})();